{"remainingRequest":"/home/lr/coding/javascript/Orient-main/orient_frontend/node_modules/babel-loader/lib/index.js!/home/lr/coding/javascript/Orient-main/orient_frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/lr/coding/javascript/Orient-main/orient_frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/lr/coding/javascript/Orient-main/orient_frontend/src/views/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/lr/coding/javascript/Orient-main/orient_frontend/src/views/Home.vue","mtime":1618568234096},{"path":"/home/lr/coding/javascript/Orient-main/orient_frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/lr/coding/javascript/Orient-main/orient_frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/lr/coding/javascript/Orient-main/orient_frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/lr/coding/javascript/Orient-main/orient_frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2xyL2NvZGluZy9qYXZhc2NyaXB0L09yaWVudC1tYWluL29yaWVudF9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgSGludENhcmQgZnJvbSAiLi4vY29tcG9uZW50cy9IaW50Q2FyZC52dWUiOyAvLyBAIGlzIGFuIGFsaWFzIHRvIC9zcmMKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiSG9tZSIsCiAgY29tcG9uZW50czogewogICAgSGludENhcmQ6IEhpbnRDYXJkCiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge30sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ3JvdXBfaWQgPSB0aGlzLiRyb3V0ZS5xdWVyeS5ncm91cDsKICAgIHRoaXMuZmV0Y2hEYXRhKCk7CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdW5kb25lX2hpbnRzOiBbXSwKICAgICAgZG9uZV9oaW50czogW10sCiAgICAgIGdyb3VwOiBKU09OLAogICAgICBpbnB1dF90ZXh0OiAiIgogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGZldGNoRGF0YTogZnVuY3Rpb24gZmV0Y2hEYXRhKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgdmFsLCBpbmZvLCBpOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmF4aW9zLmdldCgiL2JhY2tlbmQvZ3JvdXBzLyIgKyBfdGhpcy5ncm91cF9pZCArICIvIikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgdmFsID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzLmdyb3VwID0gdmFsOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuYXhpb3MuZ2V0KCIvYmFja2VuZC9ncm91cHNpbmZvLyIgKyBfdGhpcy5ncm91cF9pZCArICIvIikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGEuaGludHM7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgaW5mbyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBpID0gMDsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgaWYgKCEoaSA8IGluZm8ubGVuZ3RoKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghKGluZm9baV0uYXZhaWwgPT09ICJubyIpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgiY29udGludWUiLCAxMik7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBpZiAoaW5mb1tpXS5kb25lID09PSAibm8iKSBfdGhpcy51bmRvbmVfaGludHMucHVzaChpbmZvW2ldKTtlbHNlIF90aGlzLmRvbmVfaGludHMucHVzaChpbmZvW2ldKTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgICsraTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY2hhbmdlTmFtZTogZnVuY3Rpb24gY2hhbmdlTmFtZShuYW1lKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghKG5hbWUgPT09ICIiKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGFsZXJ0KCLpmorkvI3lkI3nqLHkuI3lj6/ngrrnqbrvvIEiKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgaWYgKCFjb25maXJtKCLnorroqo3mm7TmlLnpmorlkI0/IikpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmF4aW9zLnBhdGNoKCIvYmFja2VuZC9ncm91cHMvIiArIF90aGlzMi5ncm91cF9pZC50b1N0cmluZygpICsgIi8iLCB7CiAgICAgICAgICAgICAgICAgICJuYW1lIjogbmFtZQogICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgYWxlcnQoIuabtOWQjeaIkOWKn++8gSIpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA,OAAA,QAAA,MAAA,4BAAA,C,CACA;;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,MADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,QAAA,EAAA;AADA,GAFA;AAKA,EAAA,OALA,qBAKA,CAEA,CAPA;AAQA,EAAA,OARA,qBAQA;AACA,SAAA,QAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,KAAA;AACA,SAAA,SAAA;AACA,GAXA;AAYA,EAAA,IAZA,kBAYA;AACA,WAAA;AACA,MAAA,YAAA,EAAA,EADA;AAEA,MAAA,UAAA,EAAA,EAFA;AAGA,MAAA,KAAA,EAAA,IAHA;AAIA,MAAA,UAAA,EAAA;AAJA,KAAA;AAMA,GAnBA;AAoBA,EAAA,OAAA,EAAA;AACA,IAAA,SADA,uBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KAAA,CAAA,KAAA,CAAA,GAAA,CAAA,qBAAA,KAAA,CAAA,QAAA,GAAA,GAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,yBAAA,QAAA,CAAA,IAAA;AACA,iBAHA,CADA;;AAAA;AACA,gBAAA,GADA;AAMA,gBAAA,KAAA,CAAA,KAAA,GAAA,GAAA;AANA;AAAA,uBAOA,KAAA,CAAA,KAAA,CAAA,GAAA,CAAA,yBAAA,KAAA,CAAA,QAAA,GAAA,GAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,yBAAA,QAAA,CAAA,IAAA,CAAA,KAAA;AACA,iBAHA,CAPA;;AAAA;AAOA,gBAAA,IAPA;AAYA,gBAAA,CAZA,GAYA,CAZA;;AAAA;AAAA,sBAYA,CAAA,GAAA,IAAA,CAAA,MAZA;AAAA;AAAA;AAAA;;AAAA,sBAaA,IAAA,CAAA,CAAA,CAAA,CAAA,KAAA,KAAA,IAbA;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAcA,oBAAA,IAAA,CAAA,CAAA,CAAA,CAAA,IAAA,KAAA,IAAA,EAAA,KAAA,CAAA,YAAA,CAAA,IAAA,CAAA,IAAA,CAAA,CAAA,CAAA,EAAA,KACA,KAAA,CAAA,UAAA,CAAA,IAAA,CAAA,IAAA,CAAA,CAAA,CAAA;;AAfA;AAYA,kBAAA,CAZA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiBA,KAlBA;AAoBA,IAAA,UApBA,sBAoBA,IApBA,EAoBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA,IAAA,KAAA,EADA;AAAA;AAAA;AAAA;;AAEA,gBAAA,KAAA,CAAA,WAAA,CAAA;AAFA;;AAAA;AAAA,qBAKA,OAAA,CAAA,SAAA,CALA;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAMA,MAAA,CAAA,KAAA,CAAA,KAAA,CAAA,qBAAA,MAAA,CAAA,QAAA,CAAA,QAAA,EAAA,GAAA,GAAA,EAAA;AAAA,0BAAA;AAAA,iBAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,yBAAA,QAAA,CAAA,IAAA;AACA,iBAHA,CANA;;AAAA;AAUA,gBAAA,KAAA,CAAA,OAAA,CAAA;;AAVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AAhCA;AApBA,CAAA","sourcesContent":["<template>\n    <b-container>\n        <b-row class=\"justify-content-md-center\">\n            <b-col  md=\"auto\">\n                <b-input-group prepend=\"隊伍名稱\">\n                    <b-form-input\n                        v-model=\"input_text\"\n                        :placeholder=\"group.name\"\n                    ></b-form-input>\n                    <template #append>\n                        <b-button @click=\"changeName(input_text)\">更名</b-button>\n                    </template>\n                </b-input-group>\n            </b-col>\n        </b-row>\n        <div class=\"accordion\" role=\"tablist\">\n        <b-card no-body class=\"mb-1\">\n            <b-card-header header-tag=\"header\" class=\"p-1\" role=\"tab\">\n                <b-button block v-b-toggle.accordion1 variant=\"info\">未完成卡片</b-button>\n            </b-card-header>\n            <b-collapse id=\"accordion1\" visible accordion=\"my-accordion\" role=\"tabpanel\">\n                <b-card-body>\n                    <b-card-group deck>\n                    <HintCard\n                        v-for=\"hint in undone_hints\"\n                        :key=\"hint.id\"\n                        :id=\"hint.id\"\n                        :name=\"hint.name\"\n                        :status=\"hint.done\"\n                    >\n                    </HintCard>\n                    </b-card-group>\n                </b-card-body>\n            </b-collapse>\n        </b-card>\n\n        <b-card no-body class=\"mb-1\">\n            <b-card-header header-tag=\"header\" class=\"p-1\" role=\"tab\">\n                <b-button block v-b-toggle.accordion-2 variant=\"info\">已完成卡片</b-button>\n            </b-card-header>\n            <b-collapse id=\"accordion-2\" accordion=\"my-accordion\" role=\"tabpanel\">\n                <b-card-body>\n                    <b-card-group deck>\n                    <HintCard\n                        v-for=\"hint in done_hints\"\n                        :key=\"hint.id\"\n                        :id=\"hint.id\"\n                        :name=\"hint.name\"\n                        :status=\"hint.done\"\n                    >\n                    </HintCard>\n                    </b-card-group>\n                </b-card-body>\n            </b-collapse>\n        </b-card>\n        </div>\n\n    </b-container>\n\n\n</template>\n\n<script>\nimport HintCard from \"../components/HintCard.vue\";\n// @ is an alias to /src\n\nexport default {\n    name: \"Home\",\n    components: {\n        HintCard,\n    },\n    mounted() {\n        \n    },\n    created() {\n        this.group_id = this.$route.query.group;\n        this.fetchData();\n    },\n    data() {\n        return {\n        undone_hints: [],\n        done_hints: [],\n        group: JSON,\n        input_text: \"\",\n        };\n    },\n    methods: {\n        async fetchData() {\n            const val = await this.axios.get(\"/backend/groups/\" + this.group_id + \"/\")\n                    .then(function (response) {\n                        return response.data;\n                        }\n                    );\n            this.group = val;\n            const info = await this.axios.get(\"/backend/groupsinfo/\" + this.group_id + \"/\")\n                    .then(function (response) {\n                        return response.data.hints;\n                        }\n                    );\n            for (var i = 0; i < info.length; ++i) {\n                if (info[i].avail === \"no\") continue;\n\t\t\t\tif (info[i].done === \"no\") this.undone_hints.push(info[i]);\n\t\t\t\telse this.done_hints.push(info[i]);\n\t\t\t}\n        },\n\n        async changeName(name) {\n            if (name === \"\") {\n                alert(\"隊伍名稱不可為空！\");\n                return;\n            }\n            if(confirm(\"確認更改隊名?\")){\n                await this.axios.patch(\"/backend/groups/\" + this.group_id.toString() + \"/\", {\"name\": name})\n                    .then(function (response) {\n                        return response.data;\n                    });\n                alert(\"更名成功！\");\n            }\n        }\n    },\n};\n</script>\n"],"sourceRoot":"src/views"}]}