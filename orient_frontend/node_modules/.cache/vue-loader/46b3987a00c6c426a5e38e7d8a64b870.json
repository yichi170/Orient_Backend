{"remainingRequest":"/home/lr/coding/javascript/Orient-main/orient_frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/lr/coding/javascript/Orient-main/orient_frontend/src/components/HintDetails.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/lr/coding/javascript/Orient-main/orient_frontend/src/components/HintDetails.vue","mtime":1618399278929},{"path":"/home/lr/coding/javascript/Orient-main/orient_frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/lr/coding/javascript/Orient-main/orient_frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/lr/coding/javascript/Orient-main/orient_frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIHByb3BzOiB7CiAgICAgICAgaWQ6IE51bWJlciwKICAgICAgICBzdGF0dXM6IFN0cmluZywKICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICAgIGNoZWNrKCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy5pbnB1dF90ZXh0ID09PSB0aGlzLmhpbnQuYW5zd2VyID8gdHJ1ZSA6IGZhbHNlOwogICAgICAgIH0sCiAgICB9LAogICAgbW91bnRlZCgpIHsKICAgICAgICAvL3RoaXMuZ3JvdXBfaWQgPSB0aGlzLiRyb3V0ZS5xdWVyeS5ncm91cDsKCiAgICB9LAogICAgY3JlYXRlZCgpewogICAgICAgIHRoaXMuZmV0Y2hEYXRhKCk7CiAgICB9LAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBoaW50OiBKU09OLAogICAgICAgICAgICBoaW50czogSlNPTiwKICAgICAgICAgICAgZ3JvdXA6IEpTT04sCiAgICAgICAgICAgIGlucHV0X3RleHQ6ICIiLAogICAgICAgIH07CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGFzeW5jIGZldGNoRGF0YSgpIHsKICAgICAgICAgICAgY29uc3QgdmFsX2hpbnQgPSBhd2FpdCB0aGlzLmF4aW9zLmdldCgiL2JhY2tlbmQvaGludC8iICsgdGhpcy4kcHJvcHMuaWQudG9TdHJpbmcoKSArICIvIikKICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICB0aGlzLmhpbnQgPSB2YWxfaGludDsKICAgICAgICAgICAgY29uc3QgdmFsX2hpbnRzID0gYXdhaXQgdGhpcy5heGlvcy5nZXQoIi9iYWNrZW5kL2hpbnRzLyIgKyB0aGlzLmdyb3VwX2lkLnRvU3RyaW5nKCkgKyAiLyIpCiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgdGhpcy5oaW50cyA9IHZhbF9oaW50czsKICAgICAgICAgICAgY29uc3QgdmFsX2dyb3VwID0gYXdhaXQgdGhpcy5heGlvcy5nZXQoIi9iYWNrZW5kL2dyb3Vwcy8iICsgdGhpcy5ncm91cF9pZC50b1N0cmluZygpICsgIi8iKQogICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgIHRoaXMuZ3JvdXAgPSB2YWxfZ3JvdXA7CiAgICAgICAgfSwKCiAgICAgICAgYXN5bmMgaGludF9zZXRfZG9uZShncm91cF9pZCwgaGludF9pZCl7CiAgICAgICAgICAgIHRoaXMuaGludHNbaGludF9pZF0uZG9uZSA9ICJ5ZXMiOwogICAgICAgICAgICBhd2FpdCB0aGlzLmF4aW9zLnBhdGNoKCIvYmFja2VuZC9oaW50cy8iICsgZ3JvdXBfaWQudG9TdHJpbmcoKSArICIvIiwgCiAgICAgICAgICAgICAgICB7ImhpbnRzIjogdGhpcy5oaW50c30pCiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgfSwKCiAgICAgICAgYXN5bmMgYWRkX3Njb3JlKGdyb3VwX2lkKXsKICAgICAgICAgICAgdGhpcy5ncm91cFsnc2NvcmUnXSArPSB0aGlzLmhpbnRbInNjb3JlIl07CiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmF4aW9zLnBhdGNoKCIvYmFja2VuZC9ncm91cHMvIiArIGdyb3VwX2lkLnRvU3RyaW5nKCkgKyAiLyIsIHsic2NvcmUiOiB0aGlzLmdyb3VwX3Njb3JlfSkKICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKCiAgICAgICAgYXN5bmMgY2hlY2tBbnN3ZXIoYW5zKSB7CiAgICAgICAgICAgIGlmIChhbnMgPT09IHRoaXMuaGludFsiYW5zd2VyIl0pIHsKICAgICAgICAgICAgICAgIC8vIFNob3cgY2VsZWJyYXRpb25zID8/CiAgICAgICAgICAgICAgICBhbGVydCgi6Ly45YWl5q2j56K677yBIik7CiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuaGludHMubGVuZ3RoOyArK2kpIHsKICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5oaW50c1tpXS5pZCA9PT0gdGhpcy5oaW50LmlkICYmIHRoaXMuZ3JvdXBfc3RhdFtpXS5kb25lID09PSAibm8iKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGludF9zZXRfZG9uZSh0aGlzLmdyb3VwLmlkLCB0aGlzLmhpbnQuaWQpOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZF9zY29yZSh0aGlzLmdyb3VwLmlkKTsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgYWxlcnQoIui8uOWFpemMr+iqpO+8gSIpOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAvL2FkZF9zY29yZShncm91cF9pZCwgYWRkX3Njb3JlKSB7CiAgICAgICAgICAgIAogICAgICAgIC8vfSwKICAgICAgICBjaGVja19hbnModGV4dCkgewogICAgICAgICAgICBpZiAodGV4dCA9PT0gdGhpcy5oaW50LmFuc3dlcikgewogICAgICAgICAgICAgICAgYWxlcnQoIui8uOWFpeato+eiuu+8gSIpOwoKICAgICAgICAgICAgfWVsc2UgewogICAgICAgICAgICAgICAgYWxlcnQoIui8uOWFpemMr+iqpO+8gSIpOwoKICAgICAgICAgICAgfQogICAgICAgICAgICAvL2FkZF9zY29yZSh0aGlzLmdyb3VwX2lkLCB0aGlzLmhpbnQuc2NvcmUpOwogICAgICAgICAgICAvL2hpbnRfc2V0X2RvbmUoaWQpOwogICAgICAgICAgICAvL29wZW5fbmV3X2hpbnQoaWQpOwogICAgICAgIH0KICAgIH0sCn07Cg=="},{"version":3,"sources":["HintDetails.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"HintDetails.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div>\n        <a> {{group.id}} </a>\n        <b-card\n        bg-variant=\"dark\"\n        text-variant=\"white\"\n        style=\"max-width: 30rem\"\n        class=\"mb-1\"\n        >\n            <b-card-img-lazy\n                :src=\"'https://picsum.photos/768/1080/?image=' + id\"\n                alt=\"Image\"\n                bottom\n            ></b-card-img-lazy>\n\n            <b-card-body>\n                <b-card-title>{{ hint.name }}</b-card-title>\n                <b-card-sub-title class=\"mb-2\">{{ hint.difficulty }}</b-card-sub-title>\n                <b-card-text>{{ hint.text }}</b-card-text>\n\n                <b-input-group>\n                <b-form-input\n                    v-model=\"input_text\"\n                    placeholder=\"請輸入答案\"\n                ></b-form-input>\n\n                <template #append>\n                    <b-button @click=\"checkAnswer(input_text)\">確認</b-button>\n                </template>\n                </b-input-group>\n            </b-card-body>\n        </b-card>\n    </div>\n</template>\n\n<script>\nexport default {\n    props: {\n        id: Number,\n        status: String,\n    },\n    computed: {\n        check() {\n            return this.input_text === this.hint.answer ? true : false;\n        },\n    },\n    mounted() {\n        //this.group_id = this.$route.query.group;\n\n    },\n    created(){\n        this.fetchData();\n    },\n    data() {\n        return {\n            hint: JSON,\n            hints: JSON,\n            group: JSON,\n            input_text: \"\",\n        };\n    },\n    methods: {\n        async fetchData() {\n            const val_hint = await this.axios.get(\"/backend/hint/\" + this.$props.id.toString() + \"/\")\n                    .then(function (response) {\n                        return response.data;\n                        }\n                    );\n            this.hint = val_hint;\n            const val_hints = await this.axios.get(\"/backend/hints/\" + this.group_id.toString() + \"/\")\n                    .then(function (response) {\n                        return response.data;\n                        }\n                    );\n            this.hints = val_hints;\n            const val_group = await this.axios.get(\"/backend/groups/\" + this.group_id.toString() + \"/\")\n                    .then(function (response) {\n                        return response.data;\n                        }\n                    );\n            this.group = val_group;\n        },\n\n        async hint_set_done(group_id, hint_id){\n            this.hints[hint_id].done = \"yes\";\n            await this.axios.patch(\"/backend/hints/\" + group_id.toString() + \"/\", \n                {\"hints\": this.hints})\n                    .then(function (response) {\n                        return response.data;\n                    })\n        },\n\n        async add_score(group_id){\n            this.group['score'] += this.hint[\"score\"];\n                await this.axios.patch(\"/backend/groups/\" + group_id.toString() + \"/\", {\"score\": this.group_score})\n                    .then(function (response) {\n                        return response.data;\n                    });\n        },\n\n        async checkAnswer(ans) {\n            if (ans === this.hint[\"answer\"]) {\n                // Show celebrations ??\n                alert(\"輸入正確！\");\n                for (var i = 0; i < this.hints.length; ++i) {\n                    if (this.hints[i].id === this.hint.id && this.group_stat[i].done === \"no\") {\n                        this.hint_set_done(this.group.id, this.hint.id);\n                        this.add_score(this.group.id);\n                        break;\n                    }\n                }\n            } else {\n                alert(\"輸入錯誤！\");\n            }\n        },\n        //add_score(group_id, add_score) {\n            \n        //},\n        check_ans(text) {\n            if (text === this.hint.answer) {\n                alert(\"輸入正確！\");\n\n            }else {\n                alert(\"輸入錯誤！\");\n\n            }\n            //add_score(this.group_id, this.hint.score);\n            //hint_set_done(id);\n            //open_new_hint(id);\n        }\n    },\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n"]}]}